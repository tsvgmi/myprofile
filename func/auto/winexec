
# Invoke windows base apps.  This should also work in conjuntion with defining
# WHOME and WROOT in windows environment so we could navigate in WSL directory
# tree

function winexec {
  local app=$1
  shift
  local appmap=$HOME/.tool/winapp.dat
  local prog

  [[ -f $appmap ]] || touch $appmap
  prog=$(egrep "^${app} " $appmap | sed -e "s/^${app} \+//")
  if [[ ! "$prog" ]]; then
    prog=$(locate --basename $app.exe | grep -v 'Recycle.Bin' | head -1)
    echo "$app is found at $prog" >&2
    echo "Remember to add it into $appmap if correct" >&2
    echo "$app $prog" >&2
  fi
  set -x
  nohup "$prog" $@ &
}

